# zndp

#### 介绍
闲着无聊给老爸的蔬菜大棚添点科技，刚刚开搞后期会慢慢完善

#### 软件架构
Arduino

#### 功能说明：

1、根据设定的温度，当检测到温度大于阈值通过继电器打开排风扇直到温度降到小于阈值关闭排风扇；

2、根据设定的土壤湿度，当检测到土壤湿度小于阈值打开水泵浇水直到土壤湿度大于阈值关闭水泵；


### 硬件说明：

ESP32-S3-DevKitC-1（WROOM N16R8）+ 1.5寸  128x128 I2C(IIC) 液晶显示屏 + DS18B20温度传感器 + YL-69 土壤湿度传感器 + dh11 温湿度传感器

 




#### 线路连接（可自行替换变更）
##### 显示屏（先用着后期可能换大的也可以自行更改）
| 显示屏引脚 | ESP32S3 引脚 | 功能说明         |             
|------------|--------------|------------------| 
| SDA        | GPIO41       | I2C 数据线       |  
| SCK        | GPIO42       | I2C 时钟线       |  
| VCC        | 3V3          | 电源正极 (3.3V)  | 
| GND        | GND          | 电源地线         |  


| DS18B20 引脚 | ESP32S3 引脚 | 功能说明         |             
|------------|--------------|------------------| 
| DATA       | GPIO4        | 信号             |  
| VCC        | 3V3          | 电源正极 (3.3V)  | 
| GND        | GND          | 电源地线         |  

##### 模拟信号

| YL-69 引脚 | ESP32S3 引脚 | 功能说明         |             
|------------|--------------|------------------| 
| AO         | GPIO2       | GPIO1（或其他支持 ADC 的引脚）             |  
| VCC        | 3V3          | 电源正极 (3.3V)  | 
| GND        | GND          | 电源地线         |  

##### 数字信号（未实现）
| YL-69 引脚 | ESP32S3 引脚 | 功能说明         |             
|------------|--------------|------------------| 
| DO         |       自行选择     |   支持 ADC 的引脚    


| dh11 引脚 | ESP32S3 引脚 | 功能说明         |             
|------------|--------------|------------------| 
| DATA       | GPIO6        | 信号             |  
| VCC        | 3V3          | 电源正极 (3.3V)  | 
| GND        | GND          | 电源地线         |   
 
#### 使用说明

1、插电开机手机连接 GreenhouseConfig 热点；

![web页面](doc/kaiji.jpg)

2、如不自动跳转手动打开浏览器 http://192.168.4.1/wifiConfig  配置网络；

![web页面](doc/ap.jpg)

3、连接成功后查看屏幕下方有ip地址， 

![web页面](doc/xianshi.jpg)

可访问 http://你路由器分配的ip/ 查看详情配置风扇、水泵的阈值等；

![web页面](doc/web.JPG)

### 计划

1、优化 网页ui 界面;

2、增加外接音效，完善预警机制；

2、增加 mqtt，接入 Home Assistant ;

3、开发手机客户端；

4、加入大模型；



#### 参与贡献

1.  Fork 本仓库
2.  新建 Feat_xxx 分支
3.  提交代码
4.  新建 Pull Request


